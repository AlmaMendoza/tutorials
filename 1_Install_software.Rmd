---
title: "Install the model and all software/data required"
subtitle: MAgPIE model development team (magpie@pik-potsdam.de)
date: "`r format(Sys.time(), '%d %B, %Y')`"
author: Anastasis Giannousakis (giannou@pik-potsdam.de)
output:
  pdf_document: default
  toc: yes
  toc_float: true
  html_notebook: default
---

## HOW TO INSTALL
MAgPIE requires *GAMS* (https://www.gams.com/) including licenses for the
solvers *CONOPT* and (optionally) *CPLEX* for its core calculations. As the model
benefits significantly of recent improvements in *GAMS* and *CONOPT4* it is
recommended to work with the most recent versions of both.
Please make sure that the GAMS installation path is added to the PATH variable
of the system.

In addition *R* (https://www.r-project.org/) is required for pre- and
postprocessing and run management (needs to be added to the PATH variable
as well).

For R some packages are required to run MAgPIE. All except of one (`gdxrrw`) are
either distributed via the offical R CRAN or via a separate repository hosted at
PIK (PIK-CRAN). Before proceeding PIK-CRAN should be added to the list of
available repositories via:
```{r}
options(repos = c(CRAN = "@CRAN@", pik = "https://rse.pik-potsdam.de/r/packages"))
```

The `gdxrrw` package has to be downloaded directly from GAMS via
```{r}
download.file("https://support.gams.com/_media/gdxrrw:gdxrrw_1.0.2.zip",
              "gdxrrw_1.0.2.zip")
```
In some cases it can happen that `gdxrrw` does not return an error message during
installation but also did not install properly. To verify a successful
installation try to load the package via `library(gdxrrw)`.

--------------------------------------------------------------------------------

If loading of the package fails you need to install the package from source.
Under Windows this requires to install Rtools
(https://cran.r-project.org/bin/windows/Rtools/) and to add it to the PATH
variable. After that you can run the following lines of code:

```
download.file("https://support.gams.com/_media/gdxrrw:gdxrrw_1.0.2.tar.gz",
              "gdxrrw_1.0.2.tar.gz")
install.packages("gdxrrw_1.0.2.tar.gz",repos = NULL, type="source")
```

--------------------------------------------------------------------------------


After that all remaining packages can be installed via `install.packages`

```
pkgs <- c("ggplot2",
          "curl",
          "gdx",
          "magclass",
          "madrat",
          "mip",
          "lucode",
          "magpie4",
          "magpiesets",
          "lusweave",
          "luscale",
          "goxygen")
install.packages(pkgs)
```
For post-processing model outputs *Latex* is required
(https://www.latex-project.org/get/). To be seen by the model it also needs to
added to the PATH variable of your system.

